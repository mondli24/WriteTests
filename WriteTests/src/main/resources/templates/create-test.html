<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create Test</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/scripts.js}"></script>
</head>
<body>
<form th:action="@{/tests/create}" th:object="${testDTO}" method="post">
    <input type="hidden" th:value="${courseId}" name="courseId"/> <!-- Hidden field for courseId -->

    <div>
        <label for="testName">Test Name:</label>
        <input type="text" id="testName" th:field="*{testName}" required>
    </div>

    <div class="form-group">
        <label for="dateSchedule">Test Date:</label>
        <input type="date" id="dateSchedule" th:field="*{dateSchedule}" required />
    </div>

    <div class="form-group">
        <label for="duration">Duration (HH:mm):</label>
        <input type="text" id="duration" th:field="*{duration}" placeholder="HH:mm" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]">
        <small>Format: HH:mm</small>
    </div>

    <div id="questions-container">
        <!-- Dynamically added questions will appear here -->
    </div>

    <button type="button" onclick="addQuestion()">Add Question</button>
    <button type="submit">Create Test</button>
    <a th:href="@{/dashboard}"  class="logout-btn">Done</a>
</form>
</body>
<script>
    // Set the minimum date to today
    const today = new Date().toISOString().split('T')[0];
    document.getElementById("dateSchedule").setAttribute("min", today);
</script>
</html>
